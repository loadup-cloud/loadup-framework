# ========================================
# LoadUp Cache Configuration Examples (YAML)
# ========================================
# Note: Basic connection/cache settings should be configured via Spring Boot standard properties
# This configuration focuses on cache-specific strategies and per-cache configurations

# ========================================
# Example 1: Caffeine Cache (In-Memory)
# ========================================
# Use Caffeine for development or standalone applications
# Configure basic Caffeine settings via Spring Boot's standard properties:
# spring.cache.caffeine.spec=initialCapacity=1000,maximumSize=5000,expireAfterWrite=20m

loadup:
  cache:
    type: caffeine
    caffeine:
      cache-config:
        # Per-cache configuration with anti-avalanche strategies
        users:
          expire-after-write: 30m
          maximum-size: 10000
          enable-random-expiration: true
          random-offset-seconds: 300
        products:
          expire-after-write: 1h
          maximum-size: 5000
          enable-random-expiration: true

# ========================================
# Example 2: Redis Cache (Distributed)
# ========================================
# Use Redis for distributed applications or production
# Configure Redis connection via Spring Boot's standard properties:
# spring.redis.host=localhost
# spring.redis.port=6379
# spring.redis.password=yourpassword
# spring.redis.database=0

#loadup:
#  cache:
#    type: redis
#    redis:
#      cache-config:
#        # Per-cache configuration with anti-avalanche strategies
#        users:
#          expire-after-write: 30m
#          enable-random-expiration: true
#          random-offset-seconds: 300
#        products:
#          expire-after-write: 1h
#          enable-random-expiration: true
#          random-offset-seconds: 600

# ========================================
# Advanced Configuration
# ========================================
# Per-cache TTL and anti-cache-avalanche strategies
#
#loadup:
#  cache:
#    type: redis
#    redis:
#      host: localhost
#      port: 6379
#      cache-config:
#        users:
#          expire-after-write: 30m    # 30 minutes
#          maximum-size: 10000
#          enable-random-expiration: true
#          random-offset-seconds: 300
#          cache-null-values: true
#          null-value-expire-after-write: 5m
#          priority: 5
#        products:
#          expire-after-write: 1h     # 1 hour
#          maximum-size: 5000
#          enable-random-expiration: true
#          random-offset-seconds: 600
#          priority: 5
#        sessions:
#          expire-after-write: 24h    # 24 hours
#          maximum-size: 50000
#          enable-random-expiration: true
#          random-offset-seconds: 7200
#          priority: 7

# ========================================
# Advanced Caffeine Cache Configuration
# ========================================
# Configure per-cache TTL and size limits
#
#loadup:
#  cache:
#    type: caffeine
#    caffeine:
#      initial-capacity: 1000
#      maximum-size: 10000
#      expire-after-access-seconds: 600
#      expire-after-write-seconds: 1800
#      allow-null-value: false
#      cache-config:
#        users:
#          expire-after-write: 30m    # 30 minutes
#          maximum-size: 10000
#          enable-random-expiration: true
#          random-offset-seconds: 300
#          cache-null-values: true
#          null-value-expire-after-write: 5m
#          priority: 5
#        products:
#          expire-after-write: 1h     # 1 hour
#          maximum-size: 5000
#          enable-random-expiration: true
#          random-offset-seconds: 600
#          priority: 5
#        sessions:
#          expire-after-write: 2h     # 2 hours
#          maximum-size: 20000
#          enable-random-expiration: true
#          random-offset-seconds: 1200
#          priority: 7

# ========================================
# Environment-specific Configuration
# ========================================
# You can use Spring profiles to manage different cache configurations
#
# Development Environment (application-dev.yml)
#---
#spring:
#  config:
#    activate:
#      on-profile: dev
#loadup:
#  cache:
#    type: caffeine
#    caffeine:
#      maximum-size: 1000
#      expire-after-write-seconds: 300
#
# Production Environment (application-prod.yml)
#---
#spring:
#  config:
#    activate:
#      on-profile: prod
#loadup:
#  cache:
#    type: redis
#    redis:
#      host: ${REDIS_HOST:redis.prod.example.com}
#      port: ${REDIS_PORT:6379}
#      password: ${REDIS_PASSWORD}
#      database: 0

