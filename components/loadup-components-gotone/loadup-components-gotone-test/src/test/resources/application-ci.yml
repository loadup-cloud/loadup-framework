# CI Test Configuration with Testcontainers
spring:
  # Testcontainers 会自动配置 datasource，不需要手动配置
  sql:
    init:
      mode: always

  data:
    jdbc:
      repositories:
        enabled: true

  # 数据源连接池配置（优化CI环境）
  datasource:
    hikari:
      maximum-pool-size: 5
      minimum-idle: 2
      connection-timeout: 30000
      idle-timeout: 600000
      max-lifetime: 1800000
      connection-test-query: SELECT 1

# Testcontainers Configuration（CI环境优化）
testcontainers:
  reuse:
    enable: false  # CI环境禁用重用

# Logging
logging:
  level:
    io.github.loadup.components.gotone: warn
    org.springframework.jdbc: warn
    org.testcontainers: warn  # CI环境显示更多日志便于调试
    tc.mysql: warn
    com.github.dockerjava: warn




