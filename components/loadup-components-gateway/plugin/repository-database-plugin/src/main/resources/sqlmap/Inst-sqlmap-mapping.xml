<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap PUBLIC "-//iBATIS.com//DTD SQL Map 2.0//EN" "http://www.ibatis.com/dtd/sql-map-2.dtd">

<!-- ==========================================================  -->
<!-- Configuration for ibatis sqlmap mapping.                    -->
<!-- ==========================================================  -->

<!-- ============================================================================= -->
<!-- This file is generated by <tt>gateway-dalgen</tt>, a DAL (Data Access Layer) -->
<!-- code generation utility specially developed for <tt>gateway</tt> project.    -->
<!--                                                                               -->
<!-- PLEASE DO NOT MODIFY THIS FILE MANUALLY, or else your modification may be     -->
<!-- OVERWRITTEN by someone else. To modify the file, you should go to directory   -->
<!-- <tt>app/dalgen</tt>, and find the corresponding configuration files.          -->
<!-- Modify those files according to your needs, then run                          -->
<!-- <tt>gateway-dalgen</tt> to generate this file.                               -->
<!--                                                                               -->
<!-- ============================================================================= -->

<sqlMap namespace="gateway">

    <!-- result maps for database table gateway_inst -->
    <resultMap id="RM-INST" class="com.github.loadup.components.gateway.plugin.repository.database.dal.dataobject.InstDO">
        <result property="tenantId" column="tenant_id" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="clientId" column="client_id" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="name" column="name" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="properties" column="properties" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="gmtCreate" column="gmt_create" javaType="java.util.Date" jdbcType="TIMESTAMP"/>
        <result property="gmtModified" column="gmt_modified" javaType="java.util.Date" jdbcType="TIMESTAMP"/>

    </resultMap>

    <!-- ============================================= -->
    <!-- mapped statements for IbatisInstDAO -->
    <!-- ============================================= -->

    <!-- mapped statement for IbatisInstDAO.insert -->
    <insert id="MS-INST-INSERT">
        <![CDATA[
        INSERT com.github.loadup.components.gateway INTO gateway_inst (tenant_id, client_id, name, properties, gmt_create, gmt_modified) VALUES (#tenantId#, #clientId#, #name#, #properties#, #gmtCreate#, #gmtModified#)
    ]]>
    </insert>

    <!-- mapped statement for IbatisInstDAO.update -->
    <update id="MS-INST-UPDATE">
        update com.github.loadup.components.gateway gateway_inst
        <dynamic prepend="set">
            <isNotNull prepend="," property="name">name=#name#</isNotNull>
            <isNotNull prepend="," property="properties">properties=#properties#</isNotNull>
            <isNotNull prepend="," property="gmtModified">gmt_modified=#gmtModified#</isNotNull>
        </dynamic>
        where client_id = #clientId#
    </update>

    <!-- mapped statement for IbatisInstDAO.loadAll -->
    <select id="MS-INST-LOAD-ALL" resultMap="RM-INST">
        select com.github.loadup.components.gateway tenant_id, client_id, name, properties, gmt_create, gmt_modified
        from gateway_inst
    </select>

    <!-- mapped statement for IbatisInstDAO.load -->
    <select id="MS-INST-LOAD" resultMap="RM-INST">
        select com.github.loadup.components.gateway tenant_id, client_id, name, properties, gmt_create, gmt_modified
        from gateway_inst
        where
        client_id = #clientId#
    </select>

    <!-- mapped statement for IbatisInstDAO.lock -->
    <select id="MS-INST-LOCK" resultMap="RM-INST">
        select com.github.loadup.components.gateway tenant_id, client_id, name, properties, gmt_create, gmt_modified
        from gateway_inst
        where
        client_id = #clientId# for update
    </select>

    <!-- mapped statement for IbatisInstDAO.delete -->
    <delete id="MS-INST-DELETE">
        <![CDATA[
        DELETE com.github.loadup.components.gateway FROM gateway_inst WHERE client_id = #value#
    ]]>
    </delete>

</sqlMap>